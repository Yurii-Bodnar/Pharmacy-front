"use strict";(self.webpackChunkpharmacy_front=self.webpackChunkpharmacy_front||[]).push([[975],{975:(n,e,t)=>{t.r(e),t.d(e,{default:()=>M});var i,r,a,s,o,p,l,d=t(43),c=t(789),h=t(612),x=t(528),u=t(197);const g=u.Ay.div(i||(i=(0,x.A)(["\n  width: 40vw;\n"]))),f=u.Ay.form(r||(r=(0,x.A)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 10px;\n"]))),m=u.Ay.label(a||(a=(0,x.A)(["\n  font-size: 14px;\n  font-weight: 500;\n"]))),y=u.Ay.input(s||(s=(0,x.A)(["\n  padding: 5px;\n  border-radius: 5px;\n  border: none;\n  outline: 1px solid LIGHTGRAY;\n"]))),A=u.Ay.div(o||(o=(0,x.A)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 20px;\n  align-items: center;\n"]))),j=u.Ay.button(p||(p=(0,x.A)(["\n  width: 150px;\n  padding: 8px;\n  outline: 1px solid lightgray;\n  border-radius: 5px;\n  color: #000;\n  font-size: 14px;\n  font-weight: 400;\n  &:hover {\n    background-color: #2196f3;\n    color: #fff;\n    outline: transparent;\n  }\n"]))),v=u.Ay.span(l||(l=(0,x.A)(["\n  font-size: 14px;\n  font-weight: 500;\n"])));var b=t(579);const C=()=>{const[n,e]=(0,d.useState)({name:"",email:"",phone:"",address:""}),{shoppingCarts:t,setShoppingCart:i}=(0,d.useContext)(h.j),[r,a]=(0,d.useState)(0);(0,d.useEffect)((()=>{const n=t.reduce(((n,e)=>n+e.price*e.count),0);a(n)}),[t]);const s=t=>{e({...n,[t.target.name]:t.target.value})};return(0,b.jsx)(g,{children:(0,b.jsxs)(f,{onSubmit:r=>{r.preventDefault(),(0,c.f)({...n,order:t}).then((n=>{alert(n.data.message)})),e({name:"",email:"",phone:"",address:""}),i([]),localStorage.setItem("shoppingCarts","[]")},children:[(0,b.jsx)(m,{htmlFor:"name",children:"Name:"}),(0,b.jsx)(y,{type:"text",id:"name",name:"name",value:n.name,onChange:s,required:!0,pattern:"[A-Z\u0410-\u042f\u0401\u0490\u0406\u0407\u0404][a-zA-Z\u0430-\u044f\u0451\u0491\u0456\u0457\u0454]{1,}",title:"Please enter at least 2 characters with the first one in uppercase"}),(0,b.jsx)(m,{htmlFor:"email",children:"Email:"}),(0,b.jsx)(y,{type:"email",id:"email",name:"email",value:n.email,onChange:s,required:!0}),(0,b.jsx)(m,{htmlFor:"phone",children:"Phone:"}),(0,b.jsx)(y,{type:"tel",id:"phone",name:"phone",value:n.phone,onChange:s,required:!0,pattern:"[0-9]{10}",title:"Please enter a 10-digit phone number"}),(0,b.jsx)(m,{htmlFor:"address",children:"Address:"}),(0,b.jsx)(y,{id:"address",name:"address",value:n.address,onChange:s,required:!0}),(0,b.jsxs)(A,{children:[(0,b.jsx)(j,{type:"submit",children:"Submit"}),(0,b.jsxs)(v,{children:["Total price: ",r]})]})]})})};var w,S,k,z,F,I,q;const G=u.Ay.li(w||(w=(0,x.A)(["\n  border: 1px solid lightgray;\n  display: inline-flex;\n  flex-direction: column;\n  border-radius: 5px;\n  flex-direction: column;\n  gap: 8px;\n"]))),N=u.Ay.div(S||(S=(0,x.A)(["\n  padding: 15px;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]))),P=u.Ay.img(k||(k=(0,x.A)(["\n  height: 250px;\n"]))),E=u.Ay.h3(z||(z=(0,x.A)(["\n  font-size: 16px;\n  font-weight: 600;\n"]))),R=u.Ay.span(F||(F=(0,x.A)(["\n  font-size: 14px;\n  font-weight: 600;\n"]))),T=u.Ay.input(I||(I=(0,x.A)(["\n  padding: 5px;\n  border-radius: 5px;\n  border: none;\n  outline: 1px solid LIGHTGRAY;\n"]))),H=u.Ay.button(q||(q=(0,x.A)(["\n  width: 100px;\n  padding: 8px;\n  border: 1px solid lightgray;\n  border-radius: 5px;\n  color: #000;\n  font-size: 14px;\n  font-weight: 400;\n  &:hover {\n    background-color: #2196f3;\n    color: #fff;\n    border: transparent;\n  }\n"]))),L=n=>{let{avatar:e,title:t,price:i,id:r,setShoppingCart:a,shoppingCarts:s}=n;const[o,p]=(0,d.useState)(1);(0,d.useEffect)((()=>{const n=JSON.parse(localStorage.getItem("shoppingCarts"));if(n){var e;const t=null===(e=n.find((n=>n.id===r)))||void 0===e?void 0:e.count;t&&p(t)}}),[r]);return(0,b.jsxs)(G,{children:[(0,b.jsx)(P,{src:e,alt:"medicament"}),(0,b.jsxs)(N,{children:[(0,b.jsx)(E,{children:t}),(0,b.jsxs)(R,{children:["Price: ",i]}),(0,b.jsx)(T,{type:"number",value:o,onChange:n=>{const e=parseInt(n.target.value);if(!isNaN(e)&&e>0){const n=s.map((n=>n.id===r?{...n,count:e}:n));a(n),p(e)}},min:"1"}),(0,b.jsx)(H,{type:"button",onClick:()=>{const n=s.filter((n=>n.id!==+r));a(n)},children:"Remove"})]})]})},Y=n=>{let{shoppingCarts:e,setShoppingCart:t}=n;return(0,b.jsx)(b.Fragment,{children:(null===e||void 0===e?void 0:e.length)>0&&e.map((n=>{let{avatar:i,title:r,price:a,id:s}=n;return(0,b.jsx)(L,{avatar:i,title:r,price:a,id:s,setShoppingCart:t,shoppingCarts:e},s)}))})};var Z;const _=u.Ay.ul(Z||(Z=(0,x.A)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, 300px);\n  gap: 20px;\n"]))),D=()=>{const{shoppingCarts:n,setShoppingCart:e}=(0,d.useContext)(h.j);return(0,b.jsx)(_,{children:(0,b.jsx)(Y,{shoppingCarts:n,setShoppingCart:e})})};var J,O;const B=u.Ay.section(J||(J=(0,x.A)(["\n  display: flex;\n  justify-content: center;\n  gap: 20px;\n"]))),K=u.Ay.div(O||(O=(0,x.A)(["\n  height: 81.3vh;\n  position: sticky;\n  overflow-y: auto;\n  width: 60vw;\n"]))),M=()=>(0,b.jsxs)(B,{children:[(0,b.jsx)(C,{}),(0,b.jsx)(K,{children:(0,b.jsx)(D,{})})]})}}]);
//# sourceMappingURL=975.8eaa0a7b.chunk.js.map